<h1 id="21-10-2-multipartresolver-commons-fileupload-">21.10.2 使用MultipartResolver与Commons FileUpload传输文件</h1>
<p>下面的代码展示了如何使用一个通用的多路上传解析器<code>CommonsMultipartResolver</code>：</p>
<pre><code class="lang-xml">&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;

    &lt;!-- 支持的其中一个属性，支持的最大文件大小，以字节为单位 --&gt;
    &lt;property name=&quot;maxUploadSize&quot; value=&quot;100000&quot;/&gt;

&lt;/bean&gt;
</code></pre>
<p>当然，要让多路解析器正常工作，你需要在classpath路径下准备必须的jar包。如果使用的是通用的多路上传解析器<code>CommonsMultipartResolver</code>，你所需要的jar包是<code>commons-fileupload.jar</code>。</p>
<p>当Spring的<code>DispatcherServlet</code>检测到一个多部分请求时，它会激活你在上下文中声明的多路解析器并把请求交给它。解析器会把当前的<code>HttpServletRequest</code>请求对象包装成一个支持多路文件上传的请求对象<code>MultipartHttpServletRequest</code>。有了<code>MultipartHttpServletRequest</code>对象，你不仅可以获取该多路请求中的信息，还可以在你的控制器中获得该多路请求的内容本身。</p>
