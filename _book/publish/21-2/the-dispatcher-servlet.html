<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>DispatcherServlet | Spring MVC中文文档翻译稿 - Chinese Translation for Spring MVC Reference Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.1.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="../../publish/21-2/1-special-bean-types-in-the-webapplicationcontext.html" />
    
    
    <link rel="prev" href="../../publish/21-1/2-pluggability-of-other-mvc-implementations.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="2" data-basepath="../.." data-revision="Mon Jun 13 2016 15:23:39 GMT+0800 (CST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="publish/21-1/introduction-to-spring-web-mvc-framework.html">
            
                
                    <a href="../../publish/21-1/introduction-to-spring-web-mvc-framework.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Spring Web MVC框架简介
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="publish/21-1/1-features-of-spring-web-mvc.html">
            
                
                    <a href="../../publish/21-1/1-features-of-spring-web-mvc.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Spring Web MVC的特性
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="publish/21-1/2-pluggability-of-other-mvc-implementations.html">
            
                
                    <a href="../../publish/21-1/2-pluggability-of-other-mvc-implementations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        允许其他MVC实现
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2" data-path="publish/21-2/the-dispatcher-servlet.html">
            
                
                    <a href="../../publish/21-2/the-dispatcher-servlet.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        DispatcherServlet
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="publish/21-2/1-special-bean-types-in-the-webapplicationcontext.html">
            
                
                    <a href="../../publish/21-2/1-special-bean-types-in-the-webapplicationcontext.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        WebApplicationContext中特别的Bean类型
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="publish/21-2/2-default-dispatcherservlet-configuration.html">
            
                
                    <a href="../../publish/21-2/2-default-dispatcherservlet-configuration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        默认的DispatcherServlet配置
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="publish/21-2/3-dispatcherservlet-processing-sequence.html">
            
                
                    <a href="../../publish/21-2/3-dispatcherservlet-processing-sequence.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        DispatcherServlet的处理流程
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="publish/21-3/implementing-controllers.html">
            
                
                    <a href="../../publish/21-3/implementing-controllers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        控制器的实现
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="publish/21-3/1-defining-a-controller-with-@controller.html">
            
                
                    <a href="../../publish/21-3/1-defining-a-controller-with-@controller.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        使用@Controller注解定义一个控制器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="publish/21-3/2-mapping-requests-with-@requestmapping.html">
            
                
                    <a href="../../publish/21-3/2-mapping-requests-with-@requestmapping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        使用@RequestMapping注解映射请求路径
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="publish/21-3/3-defining-@requestmapping-handler-methods.html">
            
                
                    <a href="../../publish/21-3/3-defining-@requestmapping-handler-methods.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        定义@RequestMapping注解的处理方法
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="publish/21-3/4-asynchronous-request-processing.html">
            
                
                    <a href="../../publish/21-3/4-asynchronous-request-processing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        异步请求的处理
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="publish/21-3/5-testing-controllers.html">
            
                
                    <a href="../../publish/21-3/5-testing-controllers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        对控制器测试
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="publish/21-4/handler-mappings.html">
            
                
                    <a href="../../publish/21-4/handler-mappings.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        处理器映射
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="publish/21-4/1-intercepting-requests-with-a-handler-interceptor.html">
            
                
                    <a href="../../publish/21-4/1-intercepting-requests-with-a-handler-interceptor.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        使用HandlerInterceptor拦截请求
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="publish/21-5/resolving-views.html">
            
                
                    <a href="../../publish/21-5/resolving-views.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        视图解析
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="publish/21-5/1-resolving-views-with-the-view-resolver-interface.html">
            
                
                    <a href="../../publish/21-5/1-resolving-views-with-the-view-resolver-interface.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        使用ViewResolver接口解析视图
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="publish/21-5/2-chaining-view-resolvers.html">
            
                
                    <a href="../../publish/21-5/2-chaining-view-resolvers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        视图链
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="publish/21-5/3-redirecting-to-views.html">
            
                
                    <a href="../../publish/21-5/3-redirecting-to-views.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        视图重定向
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="publish/21-5/4-content-negotiating-view-resolver.html">
            
                
                    <a href="../../publish/21-5/4-content-negotiating-view-resolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        内容协商解析器ContentNegotiatingViewResolver
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="publish/21-6/using-flash-attributes.html">
            
                
                    <a href="../../publish/21-6/using-flash-attributes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        使用闪存属性FlashAttributes
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="publish/21-7/building-uris.html">
            
                
                    <a href="../../publish/21-7/building-uris.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        URI构造
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="publish/21-7/1-building-uris-to-controllers-and-methods.html">
            
                
                    <a href="../../publish/21-7/1-building-uris-to-controllers-and-methods.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        为控制器和方法指定URI
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="publish/21-7/2-building-uris-to-controllers-and-methods-from-views.html">
            
                
                    <a href="../../publish/21-7/2-building-uris-to-controllers-and-methods-from-views.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        在视图中为控制器和方法指定URI
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="publish/21-8/using-locales.html">
            
                
                    <a href="../../publish/21-8/using-locales.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        地区信息
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="publish/21-8/1-obtaining-time-zone-information.html">
            
                
                    <a href="../../publish/21-8/1-obtaining-time-zone-information.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        获取时区信息
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="publish/21-8/2-accept-header-locale-resolver.html">
            
                
                    <a href="../../publish/21-8/2-accept-header-locale-resolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Accept请求头解析器AcceptHeaderLocaleResolver
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="publish/21-8/3-cookie-locale-resolver.html">
            
                
                    <a href="../../publish/21-8/3-cookie-locale-resolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Cookie解析器CookieLocaleResolver
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="publish/21-8/4-session-locale-resolver.html">
            
                
                    <a href="../../publish/21-8/4-session-locale-resolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Session解析器SessionLocaleResolver
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="publish/21-8/5-locale-change-interceptor.html">
            
                
                    <a href="../../publish/21-8/5-locale-change-interceptor.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        地区更改拦截器LocaleChangeInterceptor
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="publish/21-9/using-themes.html">
            
                
                    <a href="../../publish/21-9/using-themes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        主题 themes
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="publish/21-9/1-overview-of-themes.html">
            
                
                    <a href="../../publish/21-9/1-overview-of-themes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        关于主题：概览
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="publish/21-9/2-defining-themes.html">
            
                
                    <a href="../../publish/21-9/2-defining-themes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        定义主题
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="publish/21-9/3-theme-resolvers.html">
            
                
                    <a href="../../publish/21-9/3-theme-resolvers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        主题解析器
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="publish/21-10/springs-multipart-file-upload-support.html">
            
                
                    <a href="../../publish/21-10/springs-multipart-file-upload-support.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Spring的多路传输（文件上传）支持
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="publish/21-10/1-introduction.html">
            
                
                    <a href="../../publish/21-10/1-introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        概述
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="publish/21-10/2-using-a-multipart-resolver-with-commons-fileupload.html">
            
                
                    <a href="../../publish/21-10/2-using-a-multipart-resolver-with-commons-fileupload.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        使用MultipartResolver与Commons FileUpload传输文件
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="publish/21-10/3-using-a-multipart-resolver-with-servlet-3.html">
            
                
                    <a href="../../publish/21-10/3-using-a-multipart-resolver-with-servlet-3.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Servlet 3.0下的MultipartResolver
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="publish/21-10/4-handling-a-file-upload-in-a-form.html">
            
                
                    <a href="../../publish/21-10/4-handling-a-file-upload-in-a-form.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.4.</b>
                        
                        处理表单中的文件上传
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="publish/21-10/5-handling-a-file-upload-request-from-programmatic-clients.html">
            
                
                    <a href="../../publish/21-10/5-handling-a-file-upload-request-from-programmatic-clients.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.5.</b>
                        
                        处理客户端发起的文件上传请求
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="publish/21-11/handling-exceptions.html">
            
                
                    <a href="../../publish/21-11/handling-exceptions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        异常处理
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1" data-path="publish/21-11/1-handler-exception-handler.html">
            
                
                    <a href="../../publish/21-11/1-handler-exception-handler.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.</b>
                        
                        处理器异常解析器HandlerExceptionHandler
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="publish/21-11/2-@exception-handler.html">
            
                
                    <a href="../../publish/21-11/2-@exception-handler.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.2.</b>
                        
                        @ExceptionHandler注解
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="publish/21-11/3-handling-standard-spring-mvc-exceptions.html">
            
                
                    <a href="../../publish/21-11/3-handling-standard-spring-mvc-exceptions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.3.</b>
                        
                        处理一般的Spring MVC异常
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="publish/21-11/4-annotating-business-exceptions-with-@response-status.html">
            
                
                    <a href="../../publish/21-11/4-annotating-business-exceptions-with-@response-status.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.4.</b>
                        
                        使用@ResponseStatus注解业务异常
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="11.5" data-path="publish/21-11/5-customizing-the-default-servlet-container-error-page.html">
            
                
                    <a href="../../publish/21-11/5-customizing-the-default-servlet-container-error-page.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.5.</b>
                        
                        Servlet默认容器错误页面的定制化
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12" data-path="publish/21-12/web-security.html">
            
                
                    <a href="../../publish/21-12/web-security.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Web安全
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="publish/21-13/convention-over-configuration-support.html">
            
                
                    <a href="../../publish/21-13/convention-over-configuration-support.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        &quot;约定优于配置&quot;的支持
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="publish/21-13/1-the-controller-controller-class-name-handler-mapping.html">
            
                
                    <a href="../../publish/21-13/1-the-controller-controller-class-name-handler-mapping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        控制器类名-处理器映射ControllerClassNameHandlerMapping
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="publish/21-13/2-the-model-modelmap-modelandview.html">
            
                
                    <a href="../../publish/21-13/2-the-model-modelmap-modelandview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        模型ModelMap(ModelAndView)
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="publish/21-13/3-the-view-request-to-view-name-translator.html">
            
                
                    <a href="../../publish/21-13/3-the-view-request-to-view-name-translator.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.3.</b>
                        
                        视图-请求与视图名的映射
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="publish/21-14/http-caching-support.html">
            
                
                    <a href="../../publish/21-14/http-caching-support.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        HTTP缓存支持
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="14.1" data-path="publish/21-14/1-cache-control-http-header.html">
            
                
                    <a href="../../publish/21-14/1-cache-control-http-header.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.1.</b>
                        
                        HTTP请求头Cache-Control
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14.2" data-path="publish/21-14/2-http-caching-support-for-static-resources.html">
            
                
                    <a href="../../publish/21-14/2-http-caching-support-for-static-resources.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.2.</b>
                        
                        对静态资源的HTTP缓存支持
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14.3" data-path="publish/21-14/3-support-for-the-cache-control-etag-and-last-modified-response-header-in-controllers.html">
            
                
                    <a href="../../publish/21-14/3-support-for-the-cache-control-etag-and-last-modified-response-header-in-controllers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.3.</b>
                        
                        在控制器中设置Cache-Control、ETag和Last-Modified响应头
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14.4" data-path="publish/21-14/4-shallow-etag-support.html">
            
                
                    <a href="../../publish/21-14/4-shallow-etag-support.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.4.</b>
                        
                        忽略ETag
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="15" data-path="publish/21-15/code-based-servlet-container-initialization.html">
            
                
                    <a href="../../publish/21-15/code-based-servlet-container-initialization.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        基于代码的Servlet容器初始化
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="publish/21-16/configuring-spring-mvc.html">
            
                
                    <a href="../../publish/21-16/configuring-spring-mvc.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        配置Spring MVC
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="publish/21-16/1-enabling-the-mvc-java-config-or-the-mvc-xml-namespace.html">
            
                
                    <a href="../../publish/21-16/1-enabling-the-mvc-java-config-or-the-mvc-xml-namespace.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        启用MVC Java编程配置或MVC命名空间配置方式
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="publish/21-16/2-customizing-the-provided-configuration.html">
            
                
                    <a href="../../publish/21-16/2-customizing-the-provided-configuration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        默认配置的定制化
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="publish/21-16/3-conversion-and-formatting.html">
            
                
                    <a href="../../publish/21-16/3-conversion-and-formatting.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        转换与格式化
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.4" data-path="publish/21-16/4-validation.html">
            
                
                    <a href="../../publish/21-16/4-validation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.4.</b>
                        
                        验证
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.5" data-path="publish/21-16/5-interceptors.html">
            
                
                    <a href="../../publish/21-16/5-interceptors.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.5.</b>
                        
                        拦截器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.6" data-path="publish/21-16/6-content-negotiation.html">
            
                
                    <a href="../../publish/21-16/6-content-negotiation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.6.</b>
                        
                        内容协商
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.7" data-path="publish/21-16/7-view-controllers.html">
            
                
                    <a href="../../publish/21-16/7-view-controllers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.7.</b>
                        
                        视图控制器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.8" data-path="publish/21-16/8-view-resolvers.html">
            
                
                    <a href="../../publish/21-16/8-view-resolvers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.8.</b>
                        
                        视图解析器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.9" data-path="publish/21-16/9-serving-of-resources.html">
            
                
                    <a href="../../publish/21-16/9-serving-of-resources.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.9.</b>
                        
                        资源的服务
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.10" data-path="publish/21-16/10-falling-back-on-the-default-servlet-to-serve-resources.html">
            
                
                    <a href="../../publish/21-16/10-falling-back-on-the-default-servlet-to-serve-resources.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.10.</b>
                        
                        回到默认的Servlet来进行资源服务
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.11" data-path="publish/21-16/11-path-matching.html">
            
                
                    <a href="../../publish/21-16/11-path-matching.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.11.</b>
                        
                        路径匹配
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.12" data-path="publish/21-16/12-message-converters.html">
            
                
                    <a href="../../publish/21-16/12-message-converters.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.12.</b>
                        
                        消息转换器
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.13" data-path="publish/21-16/13-advanced-customizations-with-mvc-java-config.html">
            
                
                    <a href="../../publish/21-16/13-advanced-customizations-with-mvc-java-config.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.13.</b>
                        
                        使用MVC Java编程进行高级的定制化
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16.14" data-path="publish/21-16/14-advanced-customizations-with-the-mvc-namespace.html">
            
                
                    <a href="../../publish/21-16/14-advanced-customizations-with-the-mvc-namespace.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.14.</b>
                        
                        使用MVC命名空间进行高级的定制化
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Spring MVC中文文档翻译稿 - Chinese Translation for Spring MVC Reference Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="21-2-dispatcherservlet">21.2 DispatcherServlet</h1>
<blockquote>
<p>Spring&#x2019;s web MVC framework is, like many other web MVC frameworks, request-driven, designed around a central Servlet that dispatches requests to controllers and offers other functionality that facilitates the development of web applications. Spring&#x2019;s <code>DispatcherServlet</code> however, does more than just that. It is completely integrated with the Spring IoC container and as such allows you to use every other feature that Spring has.</p>
</blockquote>
<p>&#x4E0E;&#x5176;&#x4ED6;&#x5F88;&#x591A;web&#x7684;MVC&#x6846;&#x67B6;&#x4E00;&#x6837;&#xFF0C;Spring Web MVC&#x6846;&#x67B6;&#x662F;&#x7531;&#x8BF7;&#x6C42;&#x9A71;&#x52A8;&#x7684;&#x3002;&#x6240;&#x6709;&#x8BBE;&#x8BA1;&#x90FD;&#x56F4;&#x7ED5;&#x7740;&#x4E00;&#x4E2A;&#x4E2D;&#x592E;Servlet&#x6765;&#x5C55;&#x5F00;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x628A;&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x5206;&#x53D1;&#x5230;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;web&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x6240;&#x9700;&#x8981;&#x7684;&#x529F;&#x80FD;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;Spring&#x7684;<code>DispatcherServlet</code>&#x80FD;&#x505A;&#x7684;&#x6BD4;&#x8FD9;&#x66F4;&#x591A;&#xFF0C;&#x5B83;&#x4E0E;Spring IoC&#x5BB9;&#x5668;&#x505A;&#x4E86;&#x65E0;&#x7F1D;&#x7684;&#x96C6;&#x6210;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x4EFB;&#x4F55;Spring&#x5177;&#x6709;&#x7684;&#x7279;&#x6027;&#x4F60;&#x90FD;&#x53EF;&#x4EE5;&#x5728;Spring MVC&#x4E2D;&#x4F7F;&#x7528;&#x3002;</p>
<blockquote>
<p>The request processing workflow of the Spring Web MVC <code>DispatcherServlet</code> is illustrated in the following diagram. The pattern-savvy reader will recognize that the <code>DispatcherServlet</code> is an expression of the &quot;Front Controller&quot; design pattern (this is a pattern that Spring Web MVC shares with many other leading web frameworks).</p>
</blockquote>
<p>&#x4E0B;&#x9762;&#x8FD9;&#x5F20;&#x56FE;&#x5C55;&#x793A;&#x4E86;Spring Web MVC&#x7684;<code>DispatcherServlet</code>&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x3002;&#x719F;&#x6089;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x670B;&#x53CB;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;<code>DispatcherServlet</code>&#x5E94;&#x7528;&#x7684;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x201D;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF08;&#x5176;&#x5B9E;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x4F18;&#x79C0;&#x7684;web&#x6846;&#x67B6;&#x4E5F;&#x90FD;&#x4F7F;&#x7528;&#x4E86;&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF09;&#x3002;</p>
<p><img src="figures/figure-21-1-the-request-processing-workflow-in-spring-web-mvc.png" alt="&#x56FE;21.1 Spring Web MVC&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#xFF08;&#x9AD8;&#x5C42;&#x62BD;&#x8C61;&#xFF09;&#x5DE5;&#x4F5C;&#x6D41;"></p>
<blockquote>
<p>The DispatcherServlet is an actual Servlet (it inherits from the HttpServlet base class), and as such is declared in the web.xml of your web application. You need to map requests that you want the DispatcherServlet to handle, by using a URL mapping in the same web.xml file. This is standard Java EE Servlet configuration; the following example shows such a DispatcherServlet declaration and mapping:</p>
</blockquote>
<p><code>DispatcherServlet</code>&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E2A;<code>Servlet</code>&#xFF08;&#x5B83;&#x7EE7;&#x627F;&#x81EA;<code>HttpServlet</code>&#x57FA;&#x7C7B;&#xFF09;&#xFF0C;&#x5B83;&#x4E5F;&#x662F;&#x5728;&#x4F60;&#x7684;web&#x5E94;&#x7528;&#x7684;<code>web.xml</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E0B;&#x58F0;&#x660E;&#x7684;&#x3002;&#x540C;&#x6837;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5728;<code>web.xml</code>&#x6587;&#x4EF6;&#x4E2D;&#x628A;&#x4F60;&#x5E0C;&#x671B;<code>DispatcherServlet</code>&#x5904;&#x7406;&#x7684;&#x8BF7;&#x6C42;&#x6620;&#x5C04;&#x5230;&#x5BF9;&#x5E94;&#x7684;URL&#x4E0A;&#x53BB;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x6807;&#x51C6;&#x7684;Java EE Servlet&#x914D;&#x7F6E;&#xFF1B;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x5C55;&#x793A;&#x4E86;&#x5BF9;<code>DispatcherServlet</code>&#x548C;&#x6620;&#x5C04;&#x8DEF;&#x5F84;&#x7684;&#x58F0;&#x660E;&#x3002;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">web-app</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">servlet</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-name</span>&gt;</span>example<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-class</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">load-on-startup</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">servlet</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-name</span>&gt;</span>example<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">url-pattern</span>&gt;</span>/example/*<span class="hljs-tag">&lt;/<span class="hljs-title">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">servlet-mapping</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">web-app</span>&gt;</span>
</code></pre>
<blockquote>
<p>In the preceding example, all requests starting with <code>/example</code> will be handled by the <code>DispatcherServlet</code> instance named example. In a Servlet 3.0+ environment, you also have the option of configuring the Servlet container programmatically. Below is the code based equivalent of the above web.xml example:</p>
</blockquote>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x4EE5;<code>/example</code>&#x5F00;&#x5934;&#x7684;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x88AB;<code>DispatcherServlet</code>&#x5904;&#x7406;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;<code>DispatcherServlet</code>&#x5B9E;&#x4F8B;&#x7684;&#x540D;&#x5B57;&#x4E3A;<code>example</code>&#x3002;&#x5728;Servlet 3.0+&#x7684;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x4EE3;&#x7801;&#x6765;&#x914D;&#x7F6E;Servlet&#x5BB9;&#x5668;&#x3002;&#x4E0B;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5C31;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x79CD;&#x7528;&#x6CD5;&#xFF0C;&#x5B83;&#x4E0E;&#x6211;&#x4EEC;&#x6240;&#x5199;&#x7684;<code>web.xml</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x7B49;&#x6548;&#x7684;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWebApplicationInitializer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">WebApplicationInitializer</span> </span>{

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStartup</span><span class="hljs-params">(ServletContext container)</span> </span>{
        ServletRegistration.Dynamic registration = container.addServlet(<span class="hljs-string">&quot;dispatcher&quot;</span>, <span class="hljs-keyword">new</span> DispatcherServlet());
        registration.setLoadOnStartup(<span class="hljs-number">1</span>);
        registration.addMapping(<span class="hljs-string">&quot;/example/*&quot;</span>);
    }

}
</code></pre>
<blockquote>
<p>WebApplicationInitializer is an interface provided by Spring MVC that ensures your code-based configuration is detected and automatically used to initialize any Servlet 3 container. An abstract base class implementation of this interface named AbstractDispatcherServletInitializer makes it even easier to register the DispatcherServlet by simply specifying its servlet mapping. See Code-based Servlet container initialization for more details.</p>
</blockquote>
<p><code>WebApplicationInitializer</code>&#x662F;Spring MVC&#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5B83;&#x4F1A;&#x67E5;&#x627E;&#x4F60;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x5E94;&#x7528;&#x5B83;&#x4EEC;&#x6765;&#x521D;&#x59CB;&#x5316;Servlet 3&#x7248;&#x672C;&#x4EE5;&#x4E0A;&#x7684;web&#x5BB9;&#x5668;&#x3002;&#x5B83;&#x6709;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7684;&#x5B9E;&#x73B0;<code>AbstractDispatcherServletInitializer</code>&#xFF0C;&#x5B83;&#x7B80;&#x5316;&#x4E86;<code>DispatcherServlet</code>&#x7684;&#x6CE8;&#x518C;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x6307;&#x5B9A;servlet&#x7684;&#x6620;&#x5C04;&#xFF08;mapping&#xFF09;&#x5373;&#x53EF;&#x3002;&#x5982;&#x679C;&#x60F3;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5176;&#x4ED6;&#x57FA;&#x4E8E;&#x4EE3;&#x7801;&#x914D;&#x7F6E;&#x7684;servlet&#x5BB9;&#x5668;&#x3002;</p>
<blockquote>
<p>The above is only the first step in setting up Spring Web MVC. You now need to configure the various beans used by the Spring Web MVC framework (over and above the DispatcherServlet itself).</p>
</blockquote>
<p>&#x4E0A;&#x9762;&#x53EA;&#x662F;&#x914D;&#x7F6E;Spring Web MVC&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x4F60;&#x8FD8;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;bean&#xFF0C;&#x5B83;&#x4EEC;&#x4E5F;&#x4F1A;&#x88AB;Spring Web MVC&#x6846;&#x67B6;&#x4F7F;&#x7528;&#x5230;&#xFF08;&#x9664;&#x4E86;<code>DispatcherServlet</code>&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;bean&#xFF09;&#x3002;</p>
<blockquote>
<p>As detailed in Section 6.15, &#x201C;Additional Capabilities of the ApplicationContext&#x201D;, ApplicationContext instances in Spring can be scoped. In the Web MVC framework, each DispatcherServlet has its own WebApplicationContext, which inherits all the beans already defined in the root WebApplicationContext. These inherited beans can be overridden in the servlet-specific scope, and you can define new scope-specific beans local to a given Servlet instance.</p>
</blockquote>
<p>6.15&#x8282;&#x201C;Additional Capabilities of the ApplicationContext(ApplicationContext&#x7684;&#x5176;&#x4ED6;&#x4F5C;&#x7528;)&#x201D;&#x4E2D;&#x6211;&#x4EEC;&#x804A;&#x5230;&#xFF0C;<code>ApplicationContext</code>&#x5B9E;&#x4F8B;&#x662F;&#x53EF;&#x4EE5;&#x6709;&#x8303;&#x56F4;&#xFF08;scope&#xFF09;&#x7684;&#x3002;&#x5728;Web MVC&#x6846;&#x67B6;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;<code>DispatcherServlet</code>&#x90FD;&#x6301;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x5BF9;&#x8C61;<code>WebApplicationContext</code>&#xFF0C;&#x5B83;&#x53C8;&#x7EE7;&#x627F;&#x4E86;&#x6839;<code>WebApplicationContext</code>&#x5BF9;&#x8C61;&#x4E2D;&#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x7684;&#x6240;&#x6709;bean&#x3002;&#x8FD9;&#x4E9B;&#x7EE7;&#x627F;&#x7684;bean&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;servlet&#x7684;&#x7279;&#x5B9A;scope&#x5185;&#x88AB;&#x91CD;&#x8F7D;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;Servlet&#x5B9E;&#x4F8B;&#x4E2D;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5176;scope&#x5185;&#x65B0;&#x7684;bean&#x3002;&#xFF08;&#x8FD9;&#x53E5;&#x7FFB;&#x8BD1;&#x5F97;&#x6E23;&#x6E23;&#x6211;&#x77E5;&#x9053;&#x2026;&#x2026;&#xFF09;</p>
<p><img src="figures/figure-21-2-typical-context-hierarchy-in-spring-web-mvc.png" alt="&#x56FE;21.2 Spring Web MVC&#x4E2D;&#x5E38;&#x89C1;&#x7684;context&#x5C42;&#x7EA7;&#x7ED3;&#x6784;"></p>
<blockquote>
<p>Upon initialization of a DispatcherServlet, Spring MVC looks for a file named [servlet-name]-servlet.xml in the WEB-INF directory of your web application and creates the beans defined there, overriding the definitions of any beans defined with the same name in the global scope.</p>
</blockquote>
<p>&#x5728;<code>DispatcherServlet</code>&#x7684;&#x521D;&#x59CB;&#x5316;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6846;&#x67B6;&#x4F1A;&#x5728;&#x4F60;web&#x5E94;&#x7528;&#x7684;WEB-INF&#x76EE;&#x5F55;&#x4E0B;&#x67E5;&#x627E;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;[servlet-name]-servlet.xml&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x521B;&#x5EFA;&#x5176;&#x4E2D;&#x6240;&#x5B9A;&#x4E49;&#x7684;bean&#x3002;&#x5982;&#x679C;&#x5728;&#x5168;&#x5C40;&#x4F5C;&#x7528;&#x57DF;(global scope)&#x4E2D;&#x5B58;&#x5728;&#x76F8;&#x540C;&#x540D;&#x5B57;&#x7684;bean&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x5C06;&#x88AB;&#x65B0;&#x7684;bean&#x5B9A;&#x4E49;&#x8986;&#x76D6;&#x3002;</p>
<blockquote>
<p>Consider the following DispatcherServlet Servlet configuration (in the web.xml file):</p>
</blockquote>
<p>&#x8BF7;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;<code>DispatcherServlet</code>&#x7684;&#x914D;&#x7F6E;&#xFF08;&#x5B9A;&#x4E49;&#x4E8E;web.xml&#x6587;&#x4EF6;&#x4E2D;&#xFF09;&#xFF1A;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">web-app</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">servlet</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-name</span>&gt;</span>golfing<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-class</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">load-on-startup</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">servlet</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-name</span>&gt;</span>golfing<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">url-pattern</span>&gt;</span>/golfing/*<span class="hljs-tag">&lt;/<span class="hljs-title">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">servlet-mapping</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">web-app</span>&gt;</span>
</code></pre>
<blockquote>
<p>With the above Servlet configuration in place, you will need to have a file called /WEB-INF/golfing-servlet.xml in your application; this file will contain all of your Spring Web MVC-specific components (beans). You can change the exact location of this configuration file through a Servlet initialization parameter (see below for details).</p>
</blockquote>
<p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x5982;&#x4E0A;&#x5B9A;&#x4E49;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x7684;<code>/WEB-INF/</code>&#x8DEF;&#x5F84;&#x4E0B;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;<code>golfing-servlet.xml</code>&#x6587;&#x4EF6;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x6240;&#x6709;Spring Web MVC&#x76F8;&#x5173;&#x7684;&#x7EC4;&#x4EF6;&#x7684;&#x5B9A;&#x4E49;&#xFF08;&#x6BD4;&#x5982;bean&#x7B49;&#xFF09;&#x3002;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x5728;&#x4E00;&#x4E2A;servlet&#x521D;&#x59CB;&#x5316;&#x53C2;&#x6570;&#x4E2D;&#x6307;&#x5B9A;&#xFF08;&#x89C1;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF09;&#xFF1A;</p>
<blockquote>
<p>It is also possible to have just one root context for single DispatcherServlet scenarios.</p>
</blockquote>
<p>&#x5F53;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x4E2A;<code>DispatcherServlet</code>&#x65F6;&#xFF0C;&#x53EA;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x6839;context&#x5BF9;&#x8C61;&#x4E5F;&#x662F;&#x53EF;&#x884C;&#x7684;&#x3002;</p>
<p><img src="figures/figure-21-3-single-root-context-in-spring-web-mvc.png" alt="&#x56FE;21.3 Spring Web MVC&#x4E2D;&#x7684;&#x6839;context"></p>
<blockquote>
<p>This can be configured by setting an empty contextConfigLocation servlet init parameter, as shown below:</p>
</blockquote>
<p>&#x82E5;&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x6839;context&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;servlet&#x7684;&#x521D;&#x59CB;&#x5316;&#x53C2;&#x6570;&#x4E2D;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;contextConfigLocation&#x6765;&#x505A;&#x5230;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">web-app</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">context-param</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-title">param-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">param-value</span>&gt;</span>/WEB-INF/root-context.xml<span class="hljs-tag">&lt;/<span class="hljs-title">param-value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">context-param</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">servlet</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-name</span>&gt;</span>dispatcher<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-class</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">init-param</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-title">param-name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">param-value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">param-value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">init-param</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">load-on-startup</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">servlet</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">servlet-name</span>&gt;</span>dispatcher<span class="hljs-tag">&lt;/<span class="hljs-title">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-title">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">listener</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="hljs-tag">&lt;/<span class="hljs-title">listener-class</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">listener</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">web-app</span>&gt;</span>
</code></pre>
<blockquote>
<p>The WebApplicationContext is an extension of the plain ApplicationContext that has some extra features necessary for web applications. It differs from a normal ApplicationContext in that it is capable of resolving themes (see Section 21.9, &#x201C;Using themes&#x201D;), and that it knows which Servlet it is associated with (by having a link to the ServletContext). The WebApplicationContext is bound in the ServletContext, and by using static methods on the RequestContextUtils class you can always look up the WebApplicationContext if you need access to it.</p>
</blockquote>
<p><code>WebApplicationContext</code>&#x7EE7;&#x627F;&#x81EA;<code>ApplicationContext</code>&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;web&#x5E94;&#x7528;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x7279;&#x6027;&#x3002;&#x5B83;&#x4E0E;&#x666E;&#x901A;&#x7684;<code>ApplicationContext</code>&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x5728;&#x4E8E;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x4E3B;&#x9898;&#xFF08;theme&#xFF09;&#x7684;&#x89E3;&#x6790;&#xFF08;&#x89C1;21.9&#x8282;&#x201C;&#x4E3B;&#x9898;&#xFF08;theme&#xFF09;&#x7684;&#x4F7F;&#x7528;&#x201D;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x4E0E;&#x6301;&#x6709;&#x5B83;&#x7684;servlet&#x5173;&#x8054;&#x5728;&#x4E00;&#x8D77;&#xFF08;&#x901A;&#x8FC7;&#x6301;&#x6709;&#x4E00;&#x4E2A;<code>ServletContext</code>&#x7684;&#x5F15;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#xFF09;&#x3002;<code>WebApplicationContext</code>&#x4E0E;<code>ServletContext</code>&#x662F;&#x7ED1;&#x5B9A;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x7684;&#x8BDD;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>RequestContextUtils</code>&#x5DE5;&#x5177;&#x7C7B;&#x4E2D;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x6765;&#x62FF;&#x5230;&#x8FD9;&#x4E2A;web&#x5E94;&#x7528;&#x7684;&#x4E0A;&#x4E0B;&#x6587;<code>WebApplicationContext</code>&#x3002;</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../publish/21-1/2-pluggability-of-other-mvc-implementations.html" class="navigation navigation-prev " aria-label="Previous page: 允许其他MVC实现"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../publish/21-2/1-special-bean-types-in-the-webapplicationcontext.html" class="navigation navigation-next " aria-label="Next page: WebApplicationContext中特别的Bean类型"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
